<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="DP_SPRT_DEVICE">

	<resultMap id="dpSprtDeviceMap" type="com.skplanet.icms.refactoring.deploy.DPSprtDeviceVO">
		<result property="prodId"           	column="PROD_ID"           	/>   
		<result property="deviceModelCd"      	column="DEVICE_MODEL_CD"    />   
		<result property="subContentsId"      	column="SUB_CONTENTS_ID"    />   
		<result property="regId"      			column="REG_ID"       		/>   
		<result property="regDt"          		column="REG_DT"            	/>   
		<result property="updId"      			column="UPD_ID"       		/>   
		<result property="updDt"       			column="UPD_DT"        		/>   
	</resultMap>

  	<select id="selectDPSprtDevice" parameterType="dpSprtDeviceVO" resultMap="dpSprtDeviceMap">
  	
		SELECT  /* DP_SPRT_DEVICE-selectDPSprtDevice : mhcha123 (2014-01-03) */
			PROD_ID
			,DEVICE_MODEL_CD
			,SUB_CONTENTS_ID
			,REG_ID
			,REG_DT
			,UPD_ID
			,UPD_DT
	  	FROM TB_DP_SPRT_DEVICE
		WHERE PROD_ID = #{prodId}
  	</select>
  		
 

	<insert id="insertDPSprtDevice" parameterType="dpSprtDeviceVO">
		INSERT    /* DP_SPRT_DEVICE-insertDPSprtDevice : mhcha123 (2014-01-03) */
		INTO TB_DP_SPRT_DEVICE (
			PROD_ID
			,DEVICE_MODEL_CD
			,SUB_CONTENTS_ID
			,REG_ID
			,REG_DT
			,UPD_ID
			,UPD_DT
		)
		VALUES(
			#{prodId, jdbcType=VARCHAR}
			,#{deviceModelCd, jdbcType=VARCHAR}
			,#{subContentsId, jdbcType=VARCHAR}
			,#{regId, jdbcType=VARCHAR}
        <if test="regDt != null">,TO_DATE(#{regDt, jdbcType=DATE}, 'yyyyMMddHH24MISS')</if>
        <if test="regDt == null">,sysdate</if>
			,#{updId, jdbcType=VARCHAR}
        	,SYSDATE
		 )
	</insert>
  
	
	<delete id="deleteDPSprtDevice"  parameterType="dpSprtDeviceVO" >
		DELETE  /* DP_SPRT_DEVICE-deleteDPSprtDevice : mhcha123 (2014-01-03) */
		  FROM TB_DP_SPRT_DEVICE
      	  WHERE PROD_ID = #{prodId}
	</delete>	
	
</mapper>
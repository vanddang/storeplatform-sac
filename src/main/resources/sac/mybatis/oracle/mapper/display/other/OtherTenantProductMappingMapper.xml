<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="OtherTenantProductMapping">
    
    <select id="getTenantProductMapping" parameterType="String" resultType="com.skplanet.storeplatform.sac.display.other.service.OtherTenantProductMappingServiceImpl$SapProductMapping">
        select /* OtherTenantProductMapping.getTenantProductMapping, 테넌트 상품 매핑 조회, 정희원/SK플래닛 , 2015-01-19 */
            DP.PROD_ID AS PROD_ID_S01,
            CASE WHEN KT_CHECK_YN = 'Y'
            THEN KT_PROD_ID
            ELSE NULL END AS PROD_ID_S02,
            CASE WHEN LG_CHECK_YN = 'Y'
            THEN LG_PROD_ID
            ELSE NULL END AS PROD_ID_S03
        from TB_DP_PROD DP
            LEFT OUTER JOIN TB_DP_SAP_PROD_MAPG MAPG
                ON MAPG.PROD_ID = DP.PROD_ID
        WHERE DP.PROD_ID = #{prodId}
    </select>

    <select id="getTenantSalesStatus" parameterType="String" resultType="com.skplanet.storeplatform.sac.display.other.service.OtherTenantProductMappingServiceImpl$TenantSalesStatus">
        SELECT /* OtherTenantProductMapping.getTenantSalesStatus, 테넌트별 판매상태 조회, 정희원/SK플래닛 , 2015-01-22 */
            TENANT_ID, PROD_STATUS_CD
        FROM TB_DP_TENANT_PROD
        WHERE PROD_ID = #{prodId}
    </select>

</mapper>

<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="MemberCommon">

    <!-- 필수 약관 동의 목록 조회 -->
    <select id="getMandAgreeList" parameterType="ClauseDTO" resultType="ClauseDTO">
		SELECT /* MemberCommonMapper.xml, getMandAgreeList, SAC : 심대진 , 2014-01-08 */
		      A.TENANT_ID         AS tenantId
			, A.MAND_AGREE_YN     AS mandAgreeYn
			, A.USE_YN            AS useYn
		    , B.CLAUSE_ID         AS clauseId
			, B.CLAUSE_ITEM_CD    AS clauseItemCd
			, B.START_DAY         AS startDay
			, B.END_DAY           AS endDay
			, B.FILE_PATH         AS filePath
			, B.FILE_NM           AS fileNm
			, B.CLAUSE_VER        AS clauseVer
			, B.UP_CLAUSE_ID      AS upClauseId
			, B.DP_YN             AS dpYn
			, B.REG_ID            AS regId
			, B.REG_DT            AS regDt
			, B.UPD_ID            AS updId
			, B.UPD_DT            AS updDt
		FROM TB_CM_TENANT_CLAUSE A, TB_CM_CLAUSE B
		WHERE A.CLAUSE_ID = B.CLAUSE_ID
		AND A.TENANT_ID = #{tenantId}
		AND A.USE_YN = 'Y'
		/*AND A.MAND_AGREE_YN = 'Y'*/
		ORDER BY B.CLAUSE_ITEM_CD
    </select>

    <!-- 폰 정보 조회 -->
    <select id="getPhoneInfo" parameterType="CmDevice" resultType="CmDevice">
		SELECT /* MemberCommonMapper.xml, getPhoneInfo, SAC : 심대진 , 2014-01-08 */
            *
        FROM TB_CM_DEVICE
        WHERE REP_DEVICE_YN = 'Y'
        AND DEVICE_MODEL_CD = #{deviceModelCd}
    </select>
    
</mapper>
